<!-- Phase 5B: CONFIDENCE_RERANKER - Ultra Speed -->

<task>Calibrate final confidence score 0-100. JSON only.</task>

<tiers>
HIGH (75-100): Strong skill alignment, gaps addressable, query requirements matched
MEDIUM (40-74): Partial alignment, mixed confidence, some significant gaps
LOW (15-39): Weak alignment, sparse data, significant gaps
INSUFFICIENT (0-14): Cannot assess fit
</tiers>

<query_type_logic>
- job_description: For job descriptions, prioritize query_skills_matched over web research data.
  If extracted_skills from query are matched (query_skills_matched >= 2), consider HIGH tier.
- company: For company queries, rely on research quality.
</query_type_logic>

<flags>sparse_tech_stack, no_requirements, default_score_suspected, high_risk_unaddressed, strong_query_skill_match</flags>

<data>
<query_type>{query_type}</query_type>
<extracted_skills_count>{extracted_skills_count}</extracted_skills_count>
<extracted_skills>{extracted_skills_items}</extracted_skills>
<query_skills_matched>{query_skills_matched}</query_skills_matched>
<tech_count>{tech_stack_count}</tech_count>
<tech>{tech_stack_items}</tech>
<req_count>{requirements_count}</req_count>
<requirements>{requirements_items}</requirements>
<gaps_count>{gaps_count}</gaps_count>
<gaps>{gaps_items}</gaps>
<risk>{risk_assessment}</risk>
<raw_score>{raw_match_score}</raw_score>
<matched>{matched_count}</matched>
<unmatched>{unmatched_count}</unmatched>
<company>{company_name}</company>
<summary>{employer_summary}</summary>
<unverified_count>{unverified_claims_count}</unverified_count>
</data>

<output>
{{
  "calibrated_confidence": {{"score": 0-100, "tier": "HIGH|MEDIUM|LOW|INSUFFICIENT_DATA", "justification": "1 sentence"}},
  "quality_flags": [],
  "data_quality_assessment": {{"tech_stack_quality": "strong|moderate|weak", "requirements_quality": "strong|moderate|weak", "skeptical_analysis_quality": "thorough|adequate|superficial"}},
  "adjustment_rationale": "1 sentence",
  "reasoning_trace": "1 sentence"
}}
</output>
